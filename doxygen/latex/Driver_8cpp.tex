\hypertarget{Driver_8cpp}{\section{/\+Users/alexanderzywicki/\+Documents/\+School\+\_\+\+Stuff/\+Fall\+\_\+2014/\+Digital\+\_\+\+Signal\+\_\+\+Generation\+\_\+and\+\_\+\+Analysis/src/\+Driver.cpp File Reference}
\label{Driver_8cpp}\index{/\+Users/alexanderzywicki/\+Documents/\+School\+\_\+\+Stuff/\+Fall\+\_\+2014/\+Digital\+\_\+\+Signal\+\_\+\+Generation\+\_\+and\+\_\+\+Analysis/src/\+Driver.\+cpp@{/\+Users/alexanderzywicki/\+Documents/\+School\+\_\+\+Stuff/\+Fall\+\_\+2014/\+Digital\+\_\+\+Signal\+\_\+\+Generation\+\_\+and\+\_\+\+Analysis/src/\+Driver.\+cpp}}
}
{\ttfamily \#include \char`\"{}Driver.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Driver_8cpp_a6b20d41d6252e9871430c242cb1a56e7}{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E}~4096
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{Driver_8cpp_a70105fa3a575041357534257c1bd91a7}{Driver\+Init} (void $\ast$data)
\item 
int \hyperlink{Driver_8cpp_a0e985fca408fe471f534ee98a2bd5733}{Driver\+Exit} ()
\item 
int \hyperlink{Driver_8cpp_a110986770da2cd49dcf3789f8cc09c28}{Callback} (const void $\ast$input, void $\ast$output, unsigned long frame\+Count, const Pa\+Stream\+Callback\+Time\+Info $\ast$time\+Info, Pa\+Stream\+Callback\+Flags status\+Flags, void $\ast$user\+Data)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
Pa\+Stream $\ast$ \hyperlink{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{stream}
\item 
\hyperlink{classDSG_1_1RingBuffer}{D\+S\+G\+::\+Ring\+Buffer} \hyperlink{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\+\_\+buffer} (\hyperlink{Driver_8cpp_a6b20d41d6252e9871430c242cb1a56e7}{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{Driver_8cpp_a6b20d41d6252e9871430c242cb1a56e7}{\index{Driver.\+cpp@{Driver.\+cpp}!B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E@{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E}}
\index{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E@{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E~4096}}\label{Driver_8cpp_a6b20d41d6252e9871430c242cb1a56e7}


Definition at line 13 of file Driver.\+cpp.



\subsection{Function Documentation}
\hypertarget{Driver_8cpp_a110986770da2cd49dcf3789f8cc09c28}{\index{Driver.\+cpp@{Driver.\+cpp}!Callback@{Callback}}
\index{Callback@{Callback}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{Callback}]{\setlength{\rightskip}{0pt plus 5cm}int Callback (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{input, }
\item[{void $\ast$}]{output, }
\item[{unsigned long}]{frame\+Count, }
\item[{const Pa\+Stream\+Callback\+Time\+Info $\ast$}]{time\+Info, }
\item[{Pa\+Stream\+Callback\+Flags}]{status\+Flags, }
\item[{void $\ast$}]{user\+Data}
\end{DoxyParamCaption}
)}}\label{Driver_8cpp_a110986770da2cd49dcf3789f8cc09c28}


Definition at line 68 of file Driver.\+cpp.


\begin{DoxyCode}
73                              \{
74     \textcolor{keywordtype}{float}* \_in = (\textcolor{keywordtype}{float}*)input;
75     \textcolor{keywordtype}{float}* \_out = (\textcolor{keywordtype}{float}*)output;
76     \hyperlink{classDSG_1_1Sample}{DSG:: Sample} \_sample;
77     \textcolor{keywordtype}{int} count=0;
78     \hyperlink{classDSG_1_1SignalProcess}{DSG::SignalProcess}* \_osc = (\hyperlink{classDSG_1_1SignalProcess}{DSG::SignalProcess}*)userData;
79     \textcolor{keywordflow}{if} (\_in!=\textcolor{keyword}{nullptr}) \{
80         \textcolor{keywordflow}{while} (!\hyperlink{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\_buffer}.\hyperlink{classDSG_1_1RingBuffer_a53ddb04ffcbb5470a8d2b0a3c65b70cb}{Full}()) \{
81             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<\_sample.\hyperlink{classDSG_1_1Sample_abcbdcc67584e4018b24eac650724eb18}{Size}(); ++i) \{
82                 \_sample[i]=\_in[count++];
83             \}
84             \hyperlink{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\_buffer}.\hyperlink{classDSG_1_1RingBuffer_af484c16dbffaf555860a84652ac46284}{Write}(\_sample);
85         \}
86     \}
87     \_osc->\hyperlink{classDSG_1_1SignalProcess_afdb8220100418893950c1161dd24db67}{Perform}(\hyperlink{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\_buffer});
88     \textcolor{keywordflow}{if} (\_out!=\textcolor{keyword}{nullptr}) \{
89         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<frameCount; ++i) \{
90             \hyperlink{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\_buffer}.\hyperlink{classDSG_1_1RingBuffer_ae46649acd09c2e83834f3e31157b29b6}{Read}(\_sample);
91             *\_out++=\_sample[0];
92             *\_out++=\_sample[1];
93         \}
94     \}
95     \textcolor{keywordflow}{return} 0;
96 \}\end{DoxyCode}
\hypertarget{Driver_8cpp_a0e985fca408fe471f534ee98a2bd5733}{\index{Driver.\+cpp@{Driver.\+cpp}!Driver\+Exit@{Driver\+Exit}}
\index{Driver\+Exit@{Driver\+Exit}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{Driver\+Exit}]{\setlength{\rightskip}{0pt plus 5cm}int Driver\+Exit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{Driver_8cpp_a0e985fca408fe471f534ee98a2bd5733}


Definition at line 44 of file Driver.\+cpp.


\begin{DoxyCode}
44                 \{
45     PaError err=0;
46     err = Pa\_StopStream(\hyperlink{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{stream});
47     \textcolor{keywordflow}{if} (err!=paNoError) \{
48 \textcolor{preprocessor}{#ifdef DEBUG}
49         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
50 \textcolor{preprocessor}{#endif}
51         \textcolor{keywordflow}{return} 1;
52     \}
53     err = Pa\_CloseStream( \hyperlink{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{stream} );
54     \textcolor{keywordflow}{if}( err != paNoError )\{
55 \textcolor{preprocessor}{#ifdef DEBUG}
56         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
57 \textcolor{preprocessor}{#endif}
58     \}
59     err = Pa\_Terminate();
60     \textcolor{keywordflow}{if}( err != paNoError )\{
61 \textcolor{preprocessor}{#ifdef DEBUG}
62         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
63 \textcolor{preprocessor}{#endif}
64     \}
65     \textcolor{keywordflow}{return} 0;
66 \}
\end{DoxyCode}
\hypertarget{Driver_8cpp_a70105fa3a575041357534257c1bd91a7}{\index{Driver.\+cpp@{Driver.\+cpp}!Driver\+Init@{Driver\+Init}}
\index{Driver\+Init@{Driver\+Init}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{Driver\+Init}]{\setlength{\rightskip}{0pt plus 5cm}int Driver\+Init (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{Driver_8cpp_a70105fa3a575041357534257c1bd91a7}


Definition at line 18 of file Driver.\+cpp.


\begin{DoxyCode}
18                            \{
19     PaError err=0;
20     
21     err=Pa\_Initialize();
22     \textcolor{keywordflow}{if} (err!=paNoError) \{
23 \textcolor{preprocessor}{#ifdef DEBUG}
24         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
25 \textcolor{preprocessor}{#endif}
26         \textcolor{keywordflow}{return} 1;
27     \}
28     err = Pa\_OpenDefaultStream(&\hyperlink{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{stream}, 0, 2, paFloat32,\hyperlink{namespaceDSG_a0c5c3a251b3688398da18138c5efe4bf}{DSG:: Sample\_Rate}(), 
      \hyperlink{Driver_8cpp_a6b20d41d6252e9871430c242cb1a56e7}{BUFFER\_SIZE}, \hyperlink{Driver_8cpp_a110986770da2cd49dcf3789f8cc09c28}{Callback}, data);
29     \textcolor{keywordflow}{if} (err!=paNoError) \{
30 \textcolor{preprocessor}{#ifdef DEBUG}
31         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
32 \textcolor{preprocessor}{#endif}
33         \textcolor{keywordflow}{return} 1;
34     \}
35     err = Pa\_StartStream(\hyperlink{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{stream});
36     \textcolor{keywordflow}{if} (err!=paNoError) \{
37 \textcolor{preprocessor}{#ifdef DEBUG}
38         printf(  \textcolor{stringliteral}{"PortAudio error: %s\(\backslash\)n"}, Pa\_GetErrorText( err ) );
39 \textcolor{preprocessor}{#endif}
40         \textcolor{keywordflow}{return} 1;
41     \}
42     \textcolor{keywordflow}{return} 0;
43 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}{\index{Driver.\+cpp@{Driver.\+cpp}!\+\_\+buffer@{\+\_\+buffer}}
\index{\+\_\+buffer@{\+\_\+buffer}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}D\+S\+G\+:: Ring\+Buffer \+\_\+buffer({\bf B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+Z\+E})}}\label{Driver_8cpp_a6097b29bd1410000dcdd4f146e5c15d1}
\hypertarget{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}{\index{Driver.\+cpp@{Driver.\+cpp}!stream@{stream}}
\index{stream@{stream}!Driver.\+cpp@{Driver.\+cpp}}
\subsubsection[{stream}]{\setlength{\rightskip}{0pt plus 5cm}Pa\+Stream$\ast$ stream}}\label{Driver_8cpp_aa2fbdaf8db29dee4b723a45b890cd92a}


Definition at line 11 of file Driver.\+cpp.

